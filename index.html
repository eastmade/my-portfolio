<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Muhammad Ismij Hidayat</title>
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: A single-page application with a top navigation bar for smooth scrolling. The structure prioritizes impact by featuring an interactive project case study section. Users select a project, and the page dynamically updates text and a Chart.js visualization to showcase key results. This design moves beyond a linear slide deck to an engaging, user-driven exploratory experience, which is more effective for busy hiring managers. An "Approach & Skills" section uses tabs to keep detailed information organized and accessible without cluttering the main view. -->
    <!-- Visualization & Content Choices: 
        - Hero Section: Goal=Inform, Method=Static Text, Justification=Clean, immediate introduction.
        - About Me/Why Me: Goal=Inform, Method=Styled HTML cards with Unicode icons (e.g., üë§, üöÄ), Justification=Improves scannability of key strengths.
        - Approach & Skills: Goal=Organize, Method=Tabbed interface (HTML/JS), Justification=Prevents information overload. Approach visualized as a CSS flow diagram.
        - Project Case Studies: Goal=Compare/Inform, Method=Dynamic text blocks + interactive Chart.js bar chart, Interaction=User clicks project button to update content and chart, Justification=Visually demonstrates impact and data-savviness, making results tangible and memorable. This is the core interactive element.
        - Chart.js Bar Chart: Chosen to clearly compare before/after metrics (e.g., error reduction, conversion increase), making the project's success undeniable.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF7;
            /* Reverted: Removed background-image linear-gradient */
            color: #3D4852;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #C05621;
        }
        .project-btn.active {
            background-color: #2D3748;
            color: #FFFFFF;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .tab-btn.active {
            border-bottom: 2px solid #C05621;
            color: #2D3748;
        }
        /* Removed .project-icon styling as icons are no longer used */
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-xl font-bold text-gray-800">
                Muhammad Ismij Hidayat's Product Management Portfolio
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#about" class="nav-link text-gray-600 font-medium">About Me</a>
                <a href="#product" class="nav-link text-gray-600 font-medium">Product</a>
                <a href="#approach" class="nav-link text-gray-600 font-medium">Approach</a>
                <a href="#contact" class="nav-link text-gray-600 font-medium">Contact</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-gray-800 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#about" class="block py-2 nav-link text-gray-600">About Me</a>
            <a href="#product" class="block py-2 nav-link text-gray-600">Product</a>
            <a href="#approach" class="block py-2 nav-link text-gray-600">Approach</a>
            <a href="#contact" class="block py-2 nav-link text-gray-600">Contact</a>
        </div>
    </header>

    <main>
        <section id="hero" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-800 leading-tight">Muhammad Ismij Hidayat</h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600">Building with Purpose<br>Solving with Empathy<br><span id="years-experience" data-target="5">0</span>+ Years in Digital Product Development</p>
                <a href="#product" class="mt-8 inline-block bg-gray-800 text-white font-bold rounded-lg px-8 py-3 hover:bg-gray-700 transition-colors duration-300 shadow-lg">View My Case Study</a>
            </div>
        </section>

        <section id="about" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">Data-Driven & User-Driven Product Manager</h2>
                    <p class="mt-2 text-lg text-gray-600 max-w-3xl mx-auto">I am an experienced Product Manager passionate about building user-centric solutions. I combine business strategy with user insights to create digital products that not only succeed in the market but are also loved by users.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                        <div class="text-4xl mb-4">ü§ù</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Cross-Functional Leadership</h3>
                        <p class="text-gray-600">Skilled in leading multidisciplinary teams (engineering, design, business) to achieve common goals efficiently. Strong ownership mindset.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                        <div class="text-4xl mb-4">üöÄ</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Focus on Execution</h3>
                        <p class="text-gray-600">Experienced in turning product strategies into real features that deliver measurable impact to the business.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                        <div class="text-4xl mb-4">üåç</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Multi-Industry Experience</h3>
                        <p class="text-gray-600">Having experience in various sectors: POS SaaS Fintech, HRIS Tech, and Insurtech, gives me a rich perspective. High-Accuracy, and Mobile-First environments.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="product" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">My Product Case Study</h2>
                    <p class="mt-2 text-lg text-gray-600">Select a product to see how I turned challenges into measurable results</p>
                </div>
                
                <div id="project-selector" class="flex flex-wrap justify-center gap-3 md:gap-4 mb-10">
                </div>

                <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 md:p-10 transition-all duration-500">
                    <div class="grid lg:grid-cols-5 gap-8">
                        <div class="lg:col-span-2">
                            <h3 id="project-title" class="text-2xl font-bold text-gray-800 mb-1"></h3>
                            <p id="project-role" class="font-medium text-gray-500 mb-4"></p>
                            
                            <h4 class="font-semibold text-gray-700 mt-6 mb-2">Main Challenges</h4>
                            <p id="project-problem" class="text-gray-600"></p>

                            <h4 class="font-semibold text-gray-700 mt-6 mb-2">Key Initiatives</h4>
                            <ul id="project-initiatives" class="list-disc list-inside text-gray-600 space-y-1">
                            </ul>
                        </div>
                        <div class="lg:col-span-3 flex flex-col items-center justify-center">
                            <h4 class="text-lg font-semibold text-gray-700 mb-2 text-center">Impact Visualization</h4>
                            <p class="text-center mt-3 text-sm text-gray-500">
                                <span id="project-result-prefix" class="font-bold text-gray-800"></span>
                                <span id="project-result-value" class="font-bold text-gray-800">0</span>
                                <span id="project-result-unit" class="font-bold text-gray-800"></span>
                                <span id="project-result-description-text"></span>
                            </p>
                            <div class="chart-container">
                                <canvas id="project-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="approach" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">Approach & Expertise</h2>
                    <p class="mt-2 text-lg text-gray-600">The frameworks and tools I use to build great products</p>
                </div>
                
                <div class="max-w-4xl mx-auto">
                    <div class="border-b border-gray-200 mb-8">
                        <nav class="-mb-px flex justify-center space-x-8" aria-label="Tabs">
                            <button data-tab="approach" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                                Product Approach
                            </button>
                            <button data-tab="tools" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300">
                                Tools & Technologies
                            </button>
                        </nav>
                    </div>

                    <div id="tab-content">
                        <div id="approach-content" class="tab-pane">
                             <div class="grid md:grid-cols-3 gap-8 text-center">
                                <div class="p-6">
                                    <h3 class="text-xl font-semibold text-gray-800">1. Discovery</h3>
                                    <p class="mt-2 text-gray-600">Understand the 'WHY' through user interviews, field observations, funnel + behavioral analysis to find real problems.</p>
                                </div>
                                <div class="p-6">
                                    <h3 class="text-xl font-semibold text-gray-800">2. Delivery</h3>
                                    <p class="mt-2 text-gray-600">Work in an Agile *Squad*, manage *Backlog*, and collaborate closely with the QA Team for quality delivery.</p>
                                </div>
                                <div class="p-6">
                                    <h3 class="text-xl font-semibold text-gray-800">3. Decision Making</h3>
                                    <p class="mt-2 text-gray-600">Balancing user insights + Business OKRs + Effort Tradeoffs for technical considerations to make the right product decisions.</p>
                                </div>
                            </div>
                        </div>
                        <div id="tools-content" class="tab-pane hidden">
                            <div class="space-y-6">
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-3 text-center">Product & Project Management</h4>
                                    <div class="flex flex-wrap justify-center gap-2">
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Jira</span>
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Confluence</span>
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Trello</span>
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Notion</span>
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Google Workspace</span>
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Office 360</span>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-3 text-center">Analytic</h4>
                                    <div class="flex flex-wrap justify-center gap-2">
                                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Google Analytics</span>
                                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Mixpanel</span>
                                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Firebase</span>
                                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Posthog</span>
                                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">META</span>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-3 text-center">Prototyping Design & Other</h4>
                                    <div class="flex flex-wrap justify-center gap-2">
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">Figma</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">Adobe Photoshop</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">Axure RP</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="testimonials" class="py-20 bg-gray-100">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold text-gray-800">What They Say About Me</h2>
                        <p class="mt-2 text-lg text-gray-600">A few quotes from colleagues and managers</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                            <p class="text-gray-700 italic mb-4">"Hidayat is a very intelligent person who always retains his passion. He is helpful and has great ideas. He has very professional analytical and summarizing skills, and in the past he has provided the team with many useful research findings and product analysis and design. We all appreciate him."</p>
                            <p class="text-gray-800 font-semibold">- Tonghui Shen, Product Director</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                            <p class="text-gray-700 italic mb-4">"Hidayat is a smart guy and loves to understand the problems in depth by asking right set of questions which shows he has a great potential to be a very fine and polished product leader. He has shown great persistence and urge of learning during his journey at Lifepal and thus I recommend firms to consider him for product roles and other projects management roles."</p>
                            <p class="text-gray-800 font-semibold">- Shivang Gupta, AI Leader - Product Expert</p>
                        </div>
                    </div>
                </div>
            </section>
    </main>

    <footer id="contact" class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-12 text-center">
            <h2 class="text-3xl font-bold">Let's Discuss!</h2>
            <p class="mt-4 max-w-xl mx-auto">I'm ready to help take your product to the next level
            <br>Let's Connect!</p>
            <div class="mt-8 space-y-4 md:space-y-0 md:space-x-8 flex flex-col md:flex-row justify-center items-center">
                 <a href="mailto:hidayat.ismed@gmail.com" class="hover:text-orange-300 transition-colors">‚úâÔ∏è hidayat.ismed@gmail.com</a>
                 <span class="hidden md:inline">|</span>
                 <a href="tel:+6289526894151" class="hover:text-orange-300 transition-colors">üìû +62 8952 689 4151</a>
                 <span class="hidden md:inline">|</span>
                 <a href="https://www.linkedin.com/in/hidayatim/" target="_blank" rel="noopener noreferrer" class="hover:text-orange-300 transition-colors">üîó LinkedIn</a>
            </div>
            <a href="Muhammad_Ismij_Hidayat_CVResume_Q2_2025.pdf" download class="mt-6 inline-block bg-orange-600 text-white font-bold rounded-lg px-8 py-3 hover:bg-orange-700 transition-colors duration-300 shadow-lg">Download My Resume/CV</a>
            <div class="mt-10 border-t border-gray-700 pt-6">
                <p class="text-gray-400 text-sm">&copy; 2025 Muhammad Ismij Hidayat</p>
            </div>
        </div>
    </footer>

    <script>
        window.onload = function() { // Changed from DOMContentLoaded
            const portfolioData = {
                projects: [
                    {
                        id: 'labamu',
                        name: 'Labamu POS',
                        role: 'Senior Product Manager ‚Äì POS Order Management',
                        problem: 'Fragmented order process and frequent cashier errors in offline-first environment',
                        initiatives: [
                            'Redesigned checkout UX to minimize human error',
                            'Built real-time inventory sync between cashier and kitchen',
                            'Optimized for offline reliability and automatic sync when reconnected'
                        ],
                        results: {
                            label: 'Order Input Errors', // Added label for chart dataset
                            animatedValue: 40,
                            unit: '%',
                            prefix: '',
                            descriptionText: 'fewer order input errors, reduced kitchen wait time complaints. Increased +25% merchant satisfaction.'
                        }
                    },
                    {
                        id: 'appsensi-hris',
                        name: 'Appsensi (HRIS App)',
                        role: 'Head of Product ‚Äì HRIS App',
                        problem: 'Payroll inaccuracies due to manual attendance across distributed teams',
                        initiatives: [
                            'Real-Time Tracking, Seamless Reporting, Online & Offline Face Recognition-based attendance, and Integrated Payroll',
                            'Integrated approval flows with dynamic scheduling',
                            'Develop a fully integrated payroll system'
                        ],
                        results: {
                            label: 'Manual Errors', // Added label for chart dataset
                            animatedValue: 70,
                            unit: '%',
                            prefix: '',
                            descriptionText: 'fewer manual errors. Significant time savings for HR operations.'
                        }
                    },
                    {
                        id: 'appsensi-insurance',
                        name: 'Lifepal (Insurance Marketplace)',
                        role: 'Product Manager ‚Äì Insurance Product Marketplace',
                        problem: 'Users struggled to find relevant insurance products',
                        initiatives: [
                            'Revamped product filter & onboarding flows',
                            'Introduced personalized product suggestions based on risk profiling',
                            'Improved segmentation to present more targeted offers.'
                        ],
                        results: {
                            label: 'Conversion', // Added label for chart dataset
                            animatedValue: 22,
                            unit: '%',
                            prefix: '', 
                            descriptionText: 'Increased Search-to-Conversion. Boosted qualified leads through better segmentation'
                        }
                    }
                ]
            };

            let currentChart = null;
            const chartCanvas = document.getElementById('project-chart').getContext('2d');
            const projectSelector = document.getElementById('project-selector');

            // Function to animate numbers
            // Added startFrom parameter with default value 0
            function animateNumber(element, targetValue, duration = 1500, startFrom = 0) {
                const startTime = performance.now();

                function updateCount(currentTime) {
                    const elapsedTime = currentTime - startTime;
                    const progress = Math.min(elapsedTime / duration, 1);
                    // Calculate current value based on startFrom and targetValue
                    const currentValue = Math.floor(startFrom + progress * (targetValue - startFrom));
                    element.textContent = currentValue;

                    if (progress < 1) {
                        requestAnimationFrame(updateCount);
                    } else {
                        element.textContent = targetValue; // Ensure final value is set
                    }
                }
                requestAnimationFrame(updateCount);
            }

            // Intersection Observer for Hero Section's Years of Experience
            const yearsExperienceElement = document.getElementById('years-experience');
            if (yearsExperienceElement) {
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const target = parseInt(entry.target.dataset.target);
                            // Call animateNumber with startFrom = 1 and longer duration
                            animateNumber(entry.target, target, 2500, 1);
                            observer.unobserve(entry.target); // Stop observing once animated
                        }
                    });
                }, { threshold: 0.5 }); // Trigger when 50% of element is visible

                observer.observe(yearsExperienceElement);
            }

            function createChart(project) {
                if (currentChart) {
                    currentChart.destroy();
                }

                const result = project.results;
                let data;
                
                // Reverted: Define previous consistent color palette with alpha 0.6
                const dangerColor = 'rgba(239, 68, 68, 0.6)'; // Red for negative change
                const successColor = 'rgba(34, 197, 94, 0.6)'; // Green for positive change

                if (project.id === 'labamu' || project.id === 'appsensi-hris') { // Reduction type
                    data = {
                        labels: ['Before', 'After'],
                        datasets: [{
                            label: result.label, // Use the label from portfolioData
                            data: [100, 100 - result.animatedValue],
                            backgroundColor: [dangerColor, successColor],
                            borderColor: [dangerColor.replace('0.6', '1'), successColor.replace('0.6', '1')],
                            borderWidth: 1,
                            borderRadius: 8 // Rounded corners for bars
                        }]
                    };
                } else { // Increase type (Lifepal)
                    data = {
                        labels: ['Before', 'After'],
                        datasets: [{
                            label: result.label, // Use the label from portfolioData
                            data: [100, 100 + result.animatedValue],
                            backgroundColor: [dangerColor, successColor], /* Consistent colors for before/after */
                            borderColor: [dangerColor.replace('0.6', '1'), successColor.replace('0.6', '1')],
                            borderWidth: 1,
                            borderRadius: 8 // Rounded corners for bars
                        }]
                    };
                }

                const options = {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                },
                                color: '#6B7280' // Softer tick color
                            },
                            grid: {
                                color: 'rgba(209, 213, 219, 0.3)' // Lighter grid lines
                            }
                        },
                        x: {
                            ticks: {
                                color: '#6B7280' // Softer tick color
                            },
                            grid: {
                                display: false // Hide x-axis grid lines for cleaner look
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false // Keep legend display false as per previous request
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    // Use the dataset label which is now correctly defined
                                    return `${context.dataset.label}: ${context.raw}%`;
                                }
                            },
                            backgroundColor: '#2D3748', // Darker tooltip background
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#C05621',
                            borderWidth: 1,
                            cornerRadius: 6, // Rounded tooltip corners
                            displayColors: false // Hide color box in tooltip
                        }
                    }
                };
                
                // Update the text elements for project results
                const projectResultValueElement = document.getElementById('project-result-value');
                const projectResultUnitElement = document.getElementById('project-result-unit');
                const projectResultPrefixElement = document.getElementById('project-result-prefix');
                const projectResultDescriptionTextElement = document.getElementById('project-result-description-text');

                if (projectResultValueElement) {
                    projectResultValueElement.textContent = '0'; // Reset to 0 for animation
                    animateNumber(projectResultValueElement, result.animatedValue);
                }
                if (projectResultUnitElement) {
                    projectResultUnitElement.textContent = result.unit || '';
                }
                if (projectResultPrefixElement) {
                    projectResultPrefixElement.textContent = result.prefix || '';
                }
                if (projectResultDescriptionTextElement) {
                    projectResultDescriptionTextElement.textContent = result.descriptionText || '';
                }


                currentChart = new Chart(chartCanvas, {
                    type: 'bar',
                    data: data,
                    options: options
                });
            }

            function updateProjectView(projectId) {
                const project = portfolioData.projects.find(p => p.id === projectId);
                if (!project) return;

                const projectTitleElement = document.getElementById('project-title');
                if (projectTitleElement) {
                    projectTitleElement.textContent = project.name;
                } else {
                    console.error("Element with ID 'project-title' not found.");
                }

                const projectRoleElement = document.getElementById('project-role');
                if (projectRoleElement) {
                    projectRoleElement.textContent = project.role;
                } else {
                    console.error("Element with ID 'project-role' not found.");
                }

                const projectProblemElement = document.getElementById('project-problem');
                if (projectProblemElement) {
                    projectProblemElement.textContent = project.problem;
                } else {
                    console.error("Element with ID 'project-problem' not found.");
                }
                
                const initiativesList = document.getElementById('project-initiatives');
                if (initiativesList) {
                    initiativesList.innerHTML = '';
                    project.initiatives.forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        initiativesList.appendChild(li);
                    });
                } else {
                    console.error("Element with ID 'project-initiatives' not found.");
                }


                document.querySelectorAll('.project-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.projectId === projectId) {
                        btn.classList.add('active');
                    }
                });

                createChart(project);
            }
            
            portfolioData.projects.forEach(project => {
                const button = document.createElement('button');
                button.textContent = project.name;
                button.dataset.projectId = project.id;
                button.className = 'project-btn px-4 py-2 text-sm md:px-6 md:py-2 md:text-base font-semibold text-gray-700 bg-white rounded-lg shadow-sm hover:bg-gray-100 transition-all duration-200';
                projectSelector.appendChild(button);
            });

            projectSelector.addEventListener('click', function(e) {
                // Ensure the click is on the button itself or its child span
                let targetButton = e.target.closest('.project-btn');
                if (targetButton) {
                    const projectId = targetButton.dataset.projectId;
                    updateProjectView(projectId);
                }
            });

            // Tabs for Approach/Tools
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabPanes = document.querySelectorAll('.tab-pane');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    const tabName = button.dataset.tab;
                    tabPanes.forEach(pane => {
                        if (pane.id === `${tabName}-content`) {
                            pane.classList.remove('hidden');
                        } else {
                            pane.classList.add('hidden');
                        }
                    });
                });
            });

            // Mobile menu toggle
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Initial load
            updateProjectView(portfolioData.projects[0].id);
            const approachTabBtn = document.querySelector('.tab-btn[data-tab="approach"]');
            if (approachTabBtn) {
                approachTabBtn.classList.add('active');
            } else {
                console.error("Approach tab button not found.");
            }
        }; // End of window.onload
    </script>
</body>
</html>
